# Java堆 #

> 分新生代老年代，新生代有Eden，from surviver，to surviver三个空间，堆被所有线程共。   
> eden内存不足时，发生一次minor GC，会把from survivor和eden的对象复制到to survivor，   
> 这次的to survivor就变成了下次的from survivor，经过多次minor GC，默认15次，达到次数的对象会从survivor进行老年代。   
> 1次new如果新生代装不下，则直接进入老年代。

## 堆的年轻代和老年代 ## 

> 堆的年轻代大则老年代小，GC少，但是每次时间会比较长。年轻代小则老年代大，会缩短每次GC的时间，但是次数频繁。   
> 可以让老年代尽量缓存常用对象，JVM默认年轻代和老年代的大小比例为1:2,。观察峰值老年代内存，不影响full GC，加大老年代可调1:1，    
> 但是要给老年代预留三分之一的空间。减少使用全局变量和大对象 ，调整新生代，老年代到最合适。